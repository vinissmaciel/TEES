{
  "name" : "Dados_Producoes_Pesquisadores_Varios",
  "filename" : "C:\\Users\\Vinicius\\Downloads\\hop\\config\\projects\\lattes/metadata/Pipeline/Dados_Producoes_Pesquisadores_Varios.hpl",
  "id" : "be28c439-fb04-404a-872a-65d7122489c4",
  "parentId" : "2550c94a-9796-452e-b315-a38a21bd276b",
  "executionType" : "Pipeline",
  "executorXml" : "<pipeline>\n  <info>\n    <name>Dados_Producoes_Pesquisadores_Varios</name>\n    <name_sync_with_filename>Y</name_sync_with_filename>\n    <description/>\n    <extended_description/>\n    <pipeline_version/>\n    <pipeline_type>Normal</pipeline_type>\n    <parameters>\n    </parameters>\n    <capture_transform_performance>N</capture_transform_performance>\n    <transform_performance_capturing_delay>1000</transform_performance_capturing_delay>\n    <transform_performance_capturing_size_limit>100</transform_performance_capturing_size_limit>\n    <created_user>-</created_user>\n    <created_date>2025/04/05 21:05:12.521</created_date>\n    <modified_user>-</modified_user>\n    <modified_date>2025/04/05 21:05:12.521</modified_date>\n  </info>\n  <notepads>\n  </notepads>\n  <order>\n    <hop>\n      <from>Get file names</from>\n      <to>Get data from XML</to>\n      <enabled>Y</enabled>\n    </hop>\n    <hop>\n      <from>Get data from XML</from>\n      <to>Select Produções</to>\n      <enabled>Y</enabled>\n    </hop>\n    <hop>\n      <from>Select Produções</from>\n      <to>Sort rows Produções</to>\n      <enabled>Y</enabled>\n    </hop>\n    <hop>\n      <from>Table input Pesquisadores</from>\n      <to>Sort rows Pesquisadores</to>\n      <enabled>Y</enabled>\n    </hop>\n    <hop>\n      <from>Sort rows Pesquisadores</from>\n      <to>Merge join</to>\n      <enabled>Y</enabled>\n    </hop>\n    <hop>\n      <from>Sort rows Produções</from>\n      <to>Merge join</to>\n      <enabled>Y</enabled>\n    </hop>\n    <hop>\n      <from>Merge join</from>\n      <to>Insert / update</to>\n      <enabled>Y</enabled>\n    </hop>\n  </order>\n  <transform>\n    <name>Get data from XML</name>\n    <type>getXMLData</type>\n    <description/>\n    <distribute>Y</distribute>\n    <custom_distribution/>\n    <copies>1</copies>\n    <partitioning>\n      <method>none</method>\n      <schema_name/>\n    </partitioning>\n    <include>N</include>\n    <include_field/>\n    <rownum>N</rownum>\n    <addresultfile>N</addresultfile>\n    <namespaceaware>N</namespaceaware>\n    <ignorecomments>N</ignorecomments>\n    <readurl>N</readurl>\n    <validating>N</validating>\n    <usetoken>N</usetoken>\n    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>\n    <doNotFailIfNoFile>Y</doNotFailIfNoFile>\n    <rownum_field/>\n    <encoding>x-iso-8859-11</encoding>\n    <file>\n      <name>${PROJECT_HOME}/metadata/dataset/xml/6716225567627323.xml</name>\n      <filemask/>\n      <exclude_filemask/>\n      <file_required>N</file_required>\n      <include_subfolders>N</include_subfolders>\n    </file>\n    <fields>\n      <field>\n        <name>TITULO-DO-ARTIGO</name>\n        <xpath>DADOS-BASICOS-DO-ARTIGO/@TITULO-DO-ARTIGO</xpath>\n        <element_type>node</element_type>\n        <result_type>valueof</result_type>\n        <type>String</type>\n        <format/>\n        <currency/>\n        <decimal/>\n        <group/>\n        <length>-1</length>\n        <precision>-1</precision>\n        <trim_type>none</trim_type>\n        <repeat>N</repeat>\n      </field>\n      <field>\n        <name>ANO-DO-ARTIGO</name>\n        <xpath>DADOS-BASICOS-DO-ARTIGO/@ANO-DO-ARTIGO</xpath>\n        <element_type>node</element_type>\n        <result_type>valueof</result_type>\n        <type>String</type>\n        <format/>\n        <currency/>\n        <decimal/>\n        <group/>\n        <length>-1</length>\n        <precision>-1</precision>\n        <trim_type>none</trim_type>\n        <repeat>N</repeat>\n      </field>\n      <field>\n        <name>ISSN</name>\n        <xpath>DETALHAMENTO-DO-ARTIGO/@ISSN</xpath>\n        <element_type>node</element_type>\n        <result_type>valueof</result_type>\n        <type>None</type>\n        <format/>\n        <currency/>\n        <decimal/>\n        <group/>\n        <length>-1</length>\n        <precision>-1</precision>\n        <trim_type>none</trim_type>\n        <repeat>N</repeat>\n      </field>\n      <field>\n        <name>IDLATTES</name>\n        <xpath>/CURRICULO-VITAE/@NUMERO-IDENTIFICADOR</xpath>\n        <element_type>node</element_type>\n        <result_type>valueof</result_type>\n        <type>None</type>\n        <format/>\n        <currency/>\n        <decimal/>\n        <group/>\n        <length>-1</length>\n        <precision>-1</precision>\n        <trim_type>none</trim_type>\n        <repeat>N</repeat>\n      </field>\n    </fields>\n    <limit>0</limit>\n    <loopxpath>/CURRICULO-VITAE/PRODUCAO-BIBLIOGRAFICA/ARTIGOS-PUBLICADOS/ARTIGO-PUBLICADO</loopxpath>\n    <IsInFields>Y</IsInFields>\n    <IsAFile>Y</IsAFile>\n    <XmlField>filename</XmlField>\n    <prunePath/>\n    <shortFileFieldName/>\n    <pathFieldName/>\n    <hiddenFieldName/>\n    <lastModificationTimeFieldName/>\n    <uriNameFieldName/>\n    <rootUriNameFieldName/>\n    <extensionFieldName/>\n    <sizeFieldName/>\n    <attributes/>\n    <GUI>\n      <xloc>432</xloc>\n      <yloc>160</yloc>\n    </GUI>\n  </transform>\n  <transform>\n    <name>Get file names</name>\n    <type>GetFileNames</type>\n    <description/>\n    <distribute>Y</distribute>\n    <custom_distribution/>\n    <copies>1</copies>\n    <partitioning>\n      <method>none</method>\n      <schema_name/>\n    </partitioning>\n    <doNotFailIfNoFile>N</doNotFailIfNoFile>\n    <dynamic_include_subfolders>N</dynamic_include_subfolders>\n    <file>\n      <file_required>N</file_required>\n      <filemask>.*\\.xml$</filemask>\n      <include_subfolders>N</include_subfolders>\n      <name>${PROJECT_HOME}/metadata/dataset/xml/</name>\n    </file>\n    <file>\n      <file_required>N</file_required>\n      <include_subfolders>N</include_subfolders>\n    </file>\n    <file>\n      <file_required>N</file_required>\n      <include_subfolders>N</include_subfolders>\n    </file>\n    <filefield>N</filefield>\n    <filter>\n      <filterfiletype>all_files</filterfiletype>\n    </filter>\n    <isaddresult>Y</isaddresult>\n    <limit>0</limit>\n    <raiseAnExceptionIfNoFile>N</raiseAnExceptionIfNoFile>\n    <rownum>N</rownum>\n    <attributes/>\n    <GUI>\n      <xloc>208</xloc>\n      <yloc>160</yloc>\n    </GUI>\n  </transform>\n  <transform>\n    <name>Insert / update</name>\n    <type>InsertUpdate</type>\n    <description/>\n    <distribute>Y</distribute>\n    <custom_distribution/>\n    <copies>1</copies>\n    <partitioning>\n      <method>none</method>\n      <schema_name/>\n    </partitioning>\n    <commit>100</commit>\n    <connection>PostgreSQL</connection>\n    <lookup>\n      <key>\n        <condition>=</condition>\n        <field>issn</field>\n        <name>ISSN</name>\n      </key>\n      <schema>\"public\"</schema>\n      <table>producoes</table>\n      <value>\n        <name>nomeartigo</name>\n        <rename>TITULO-DO-ARTIGO</rename>\n        <update>Y</update>\n      </value>\n      <value>\n        <name>anoartigo</name>\n        <rename>anoartigo</rename>\n        <update>Y</update>\n      </value>\n      <value>\n        <name>issn</name>\n        <rename>ISSN</rename>\n        <update>Y</update>\n      </value>\n      <value>\n        <name>pesquisadores_id</name>\n        <rename>pesquisadores_id</rename>\n        <update>Y</update>\n      </value>\n    </lookup>\n    <update_bypassed>N</update_bypassed>\n    <attributes/>\n    <GUI>\n      <xloc>1312</xloc>\n      <yloc>240</yloc>\n    </GUI>\n  </transform>\n  <transform>\n    <name>Merge join</name>\n    <type>MergeJoin</type>\n    <description/>\n    <distribute>Y</distribute>\n    <custom_distribution/>\n    <copies>1</copies>\n    <partitioning>\n      <method>none</method>\n      <schema_name/>\n    </partitioning>\n    <join_type>INNER</join_type>\n    <keys_1>\n      <key>lattes_id</key>\n    </keys_1>\n    <keys_2>\n      <key>idcnpq</key>\n    </keys_2>\n    <transform1>Sort rows Pesquisadores</transform1>\n    <transform2>Sort rows Produções</transform2>\n    <attributes/>\n    <GUI>\n      <xloc>1088</xloc>\n      <yloc>240</yloc>\n    </GUI>\n  </transform>\n  <transform>\n    <name>Select Produções</name>\n    <type>SelectValues</type>\n    <description/>\n    <distribute>Y</distribute>\n    <custom_distribution/>\n    <copies>1</copies>\n    <partitioning>\n      <method>none</method>\n      <schema_name/>\n    </partitioning>\n    <fields>\n      <field>\n        <name>TITULO-DO-ARTIGO</name>\n      </field>\n      <field>\n        <name>IDLATTES</name>\n        <rename>idcnpq</rename>\n      </field>\n      <field>\n        <name>ANO-DO-ARTIGO</name>\n      </field>\n      <field>\n        <name>ISSN</name>\n      </field>\n      <select_unspecified>N</select_unspecified>\n      <meta>\n        <name>ANO-DO-ARTIGO</name>\n        <rename>anoartigo</rename>\n        <type>Integer</type>\n        <length>-2</length>\n        <precision>-2</precision>\n        <conversion_mask/>\n        <date_format_lenient>false</date_format_lenient>\n        <date_format_locale/>\n        <date_format_timezone/>\n        <lenient_string_to_number>false</lenient_string_to_number>\n        <encoding/>\n        <decimal_symbol/>\n        <grouping_symbol/>\n        <currency_symbol/>\n        <storage_type/>\n      </meta>\n    </fields>\n    <attributes/>\n    <GUI>\n      <xloc>672</xloc>\n      <yloc>160</yloc>\n    </GUI>\n  </transform>\n  <transform>\n    <name>Sort rows Pesquisadores</name>\n    <type>SortRows</type>\n    <description/>\n    <distribute>Y</distribute>\n    <custom_distribution/>\n    <copies>1</copies>\n    <partitioning>\n      <method>none</method>\n      <schema_name/>\n    </partitioning>\n    <compress>N</compress>\n    <directory>${java.io.tmpdir}</directory>\n    <fields>\n      <field>\n        <ascending>Y</ascending>\n        <case_sensitive>N</case_sensitive>\n        <collator_enabled>N</collator_enabled>\n        <collator_strength>0</collator_strength>\n        <name>lattes_id</name>\n        <presorted>N</presorted>\n      </field>\n    </fields>\n    <sort_prefix>out</sort_prefix>\n    <sort_size>1000000</sort_size>\n    <unique_rows>N</unique_rows>\n    <attributes/>\n    <GUI>\n      <xloc>864</xloc>\n      <yloc>320</yloc>\n    </GUI>\n  </transform>\n  <transform>\n    <name>Sort rows Produções</name>\n    <type>SortRows</type>\n    <description/>\n    <distribute>Y</distribute>\n    <custom_distribution/>\n    <copies>1</copies>\n    <partitioning>\n      <method>none</method>\n      <schema_name/>\n    </partitioning>\n    <compress>N</compress>\n    <directory>${java.io.tmpdir}</directory>\n    <fields>\n      <field>\n        <ascending>Y</ascending>\n        <case_sensitive>N</case_sensitive>\n        <collator_enabled>N</collator_enabled>\n        <collator_strength>0</collator_strength>\n        <name>idcnpq</name>\n        <presorted>N</presorted>\n      </field>\n    </fields>\n    <sort_prefix>out</sort_prefix>\n    <sort_size>1000000</sort_size>\n    <unique_rows>N</unique_rows>\n    <attributes/>\n    <GUI>\n      <xloc>864</xloc>\n      <yloc>160</yloc>\n    </GUI>\n  </transform>\n  <transform>\n    <name>Table input Pesquisadores</name>\n    <type>TableInput</type>\n    <description/>\n    <distribute>Y</distribute>\n    <custom_distribution/>\n    <copies>1</copies>\n    <partitioning>\n      <method>none</method>\n      <schema_name/>\n    </partitioning>\n    <connection>PostgreSQL</connection>\n    <execute_each_row>N</execute_each_row>\n    <limit>0</limit>\n    <sql>SELECT \n\tpesquisadores_id,\n\tlattes_id,\n\tnome\nFROM \"public\".pesquisadores</sql>\n    <variables_active>N</variables_active>\n    <attributes/>\n    <GUI>\n      <xloc>208</xloc>\n      <yloc>320</yloc>\n    </GUI>\n  </transform>\n  <transform_error_handling>\n  </transform_error_handling>\n  <attributes/>\n</pipeline>\n",
  "metadataJson" : "{\"server\":[],\"pipeline-probe\":[],\"unit-test\":[],\"rdbms\":[{\"virtualPath\":\"\",\"rdbms\":{\"POSTGRESQL\":{\"databaseName\":\"BD_PESQUISADOR\",\"pluginId\":\"POSTGRESQL\",\"indexTablespace\":null,\"dataTablespace\":null,\"accessType\":0,\"hostname\":\"127.0.0.1\",\"password\":\"Encrypted 2be98afc81bd29388ba0cab62e187a2db\",\"pluginName\":\"PostgreSQL\",\"port\":\"5437\",\"servername\":null,\"attributes\":{\"SUPPORTS_TIMESTAMP_DATA_TYPE\":\"Y\",\"QUOTE_ALL_FIELDS\":\"N\",\"EXTRA_OPTION_POSTGRESQL.stringtype\":\"unspecified\",\"SUPPORTS_BOOLEAN_DATA_TYPE\":\"Y\",\"FORCE_IDENTIFIERS_TO_LOWERCASE\":\"N\",\"PRESERVE_RESERVED_WORD_CASE\":\"Y\",\"SQL_CONNECT\":\"\",\"FORCE_IDENTIFIERS_TO_UPPERCASE\":\"N\",\"PREFERRED_SCHEMA_NAME\":\"\"},\"manualUrl\":\"\",\"username\":\"postgres\"}},\"name\":\"PostgreSQL\"}],\"AzureConnectionDefinition\":[],\"execution-info-location\":[{\"virtualPath\":null,\"executionInfoLocation\":{\"local-folder\":{\"pluginName\":\"File location\",\"pluginId\":\"local-folder\",\"rootFolder\":\"${HOP_AUDIT_FOLDER}\\/executions\\/\"}},\"dataLoggingDelay\":\"2000\",\"name\":\"local-audit\",\"description\":\"\",\"dataLoggingInterval\":\"5000\"}],\"workflow-log\":[],\"schema-definition\":[],\"cassandra-connection\":[],\"neo4j-graph-model\":[],\"web-service\":[],\"pipeline-run-configuration\":[{\"engineRunConfiguration\":{\"Local\":{\"feedback_size\":\"50000\",\"sample_size\":\"100\",\"sample_type_in_gui\":\"Last\",\"wait_time\":\"20\",\"rowset_size\":\"10000\",\"safe_mode\":false,\"show_feedback\":false,\"topo_sort\":false,\"gather_metrics\":false,\"transactional\":false}},\"virtualPath\":null,\"defaultSelection\":true,\"configurationVariables\":[],\"name\":\"local\",\"description\":\"\",\"dataProfile\":\"first-last\",\"executionInfoLocationName\":\"local-audit\"}],\"neo4j-connection\":[],\"mongodb-connection\":[],\"execution-data-profile\":[{\"virtualPath\":null,\"name\":\"first-last\",\"description\":\"capture the first and last 100 rows of every Hop transform\",\"sampler\":[{\"FirstRowsExecutionDataSampler\":{\"sampleSize\":\"100\"}},{\"LastRowsExecutionDataSampler\":{\"sampleSize\":\"100\"}}]}],\"partition\":[],\"async-web-service\":[],\"pipeline-log\":[],\"workflow-run-configuration\":[{\"engineRunConfiguration\":{\"Local\":{\"safe_mode\":false,\"transactional\":false}},\"virtualPath\":null,\"defaultSelection\":true,\"name\":\"local\",\"description\":\"\",\"executionInfoLocationName\":\"local-audit\"}],\"file-definition\":[],\"splunk\":[],\"restconnection\":[],\"dataset\":[],\"variable-resolver\":[]}",
  "runConfigurationName" : "local",
  "logLevel" : "BASIC",
  "parameterValues" : { },
  "environmentDetails" : {
    "JavaUser" : "Vinicius",
    "ContainerId" : null,
    "AvailableProcessors" : "12",
    "TotalMemory" : "272629760",
    "JavaVersion" : "21.0.4",
    "HostAddress" : "192.168.0.7",
    "HostName" : "DESKTOP-VG6M356",
    "MaxMemory" : "2147483648",
    "FreeMemory" : "108957264"
  },
  "registrationDate" : 1744230450417,
  "executionStartDate" : 1744230450377,
  "copyNr" : null
}